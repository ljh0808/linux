# Shell

## 1. Shell이란?
- **Shell**: 명령어 해석기 또는 명령 행 인터페이스로, 사용자와 커널 사이에서 명령어를 해석하여 처리.
- **역할**: 사용자가 입력한 명령어를 해석하여 커널에 전달하고 그 결과를 사용자에게 보여주는 역할.
- **이점**: GUI로는 수행하기 어려운 다양한 기능을 쉘 명령어를 통해 실행 가능.
- **쉘 스크립트**: 쉘 명령어를 프로그램처럼 작성하여 반복적이고 복잡한 작업을 자동화할 수 있는 텍스트 파일.

---

## 2. 쉘의 종류
### 1. Bash (Bourne Again Shell)
- 대부분의 리눅스 배포판에서 **Bash**를 기본 쉘로 사용.
- 명령 프롬프트 구분:
  - 일반 사용자: `$`
  - 관리자(root) 사용자: `#`
- **특징**: 사용이 쉽고 강력한 스크립트 기능을 지원.

### 2. 기타 쉘 종류
- **sh**: Bourne Shell, 가장 오래된 기본 쉘.
- **csh**: C Shell, C 언어와 비슷한 문법.
- **ksh**: Korn Shell, C Shell과 Bourne Shell의 장점 결합.
- **zsh**: Z Shell, Bash 기반으로 추가 기능을 제공.

각 쉘마다 설정 방식, 스크립트 작성법, 명령 행 기능에 차이가 있음.

---

## 3. 기본 쉘 명령어 구조

쉘 명령어는 다음과 같은 구조를 가짐:
```bash
<명령어> [옵션] [인수]
```

예시:

```bash
usermod -L username
```
* **명령어**: 실행할 프로그램의 이름 (`usermod`).
* **옵션**: 명령어의 동작을 세부적으로 조정하기 위한 옵션 (`-L`).
* **인수**: 명령어나 옵션에 전달되는 추가 정보 (`username`).
4. 필수적인 쉘 명령어

4.1 `chsh` 명령
* **사용법**: `chsh [옵션] [사용자명]`
* **설명**: 기본 쉘을 변경하는 명령어.
* **예시**:

```bash
chsh -s /bin/zsh # 현재 사용자의 기본 쉘을 zsh로 변경
```

4.2 `echo` 명령
* **사용법**: `echo [문자열]`
* **설명**: 지정된 문자열을 화면에 출력.
* **예시**:

```bash
echo "Hello, World!"
```

4.3 `pwd` (Print Working Directory)
* **설명**: 현재 작업 중인 디렉토리 경로를 출력.
* **예시**:

```bash
pwd
```
4.4 `cd` (Change Directory)
* **설명**: 작업 디렉토리를 변경.
* **예시**:

```bash
cd /home/user/Documents
```

4.5 `ls` (List)
* **설명**: 현재 디렉토리 내 파일과 디렉토리를 목록으로 표시.
* **옵션**:
   * `-l`: 상세 정보 출력.
   * `-a`: 숨김 파일 포함.
* **예시**:

```bash
ls -la
```

4.6 `cp` (Copy)
* **설명**: 파일이나 디렉토리를 복사.
* **사용법**: `cp [옵션] <원본> <대상>`
* **예시**:

```bash
cp file1.txt file2.txt
```

4.7 `mv` (Move)
* **설명**: 파일이나 디렉토리를 이동하거나 이름을 변경.
* **사용법**: `mv <원본> <대상>`
* **예시**:

```bash
mv old_name.txt new_name.txt
```

4.8 `rm` (Remove)
* **설명**: 파일이나 디렉토리를 삭제.
* **옵션**:
   * `-r`: 디렉토리 및 그 안의 내용을 재귀적으로 삭제.
   * `-f`: 강제 삭제.
* **예시**:

```bash
rm -rf /path/to/directory
```

5. 쉘 스크립트 기본 작성법
쉘 스크립트는 **텍스트 파일**로 작성하며, 주로 반복적인 작업을 자동화하는 데 사용됨.

5.1 기본 구조
1. **시작 줄** (`shebang`): 스크립트의 첫 줄은 해석기를 지정.

```bash
#!/bin/bash
```

2. **명령어 작성**: 쉘에서 사용할 명령어를 나열.

```bash
echo "This is a shell script"
```

5.2 변수 사용
쉘 스크립트에서 변수를 선언하고 사용할 수 있음:

```bash
#!/bin/bash name="World" echo "Hello, $name!"
```


5.3 조건문

```bash
if [ 조건 ]; then # 조건이 참일 때 실행할 명령 else # 조건이 거짓일 때 실행할 명령 fi
```

5.4 반복문

```bash
for i in {1..5}; do echo "Iteration $i" done
```



5.5 실행 권한 부여 및 실행
1. 스크립트에 실행 권한을 부여:

```bash
chmod +x script.sh
```

2. 스크립트 실행:

```bash
./script.sh
```


6. 환경 변수
* **환경 변수**: 쉘이나 시스템에서 사용하는 설정 정보.
* **주요 환경 변수**:
   * `$HOME`: 현재 사용자의 홈 디렉토리 경로.
   * `$PATH`: 쉘이 명령어를 검색할 때 참조하는 경로 목록.
   * `$USER`: 현재 로그인된 사용자 이름.
* 환경 변수 설정 예시:

```bash
export MY_VARIABLE="value"
```
7. 리다이렉션과 파이프라인
7.1 리다이렉션
* **출력 리다이렉션**: 명령어 출력을 파일로 저장.

```bash
s > file_list.txt # ls 출력이 file_list.txt에 저장
```
* **입력 리다이렉션**: 파일의 내용을 명령어의 입력으로 사용.

```bash
wc -l < file_list.txt     # file_list.txt의 줄 수를 계산
```
7.2 파이프라인 (`|`)
* **설명**: 한 명령어의 출력을 다른 명령어의 입력으로 전달.
* **예시**:

```bash
ls | grep ".txt" # .txt로 끝나는 파일만 출력` 
```
8. 백그라운드 실행
* 명령어 실행 후 **백그라운드**로 실행하도록 설정하여 다른 작업을 계속 수행할 수 있음.
* **예시**:

```bash
long_running_task &
```
9. 잡 제어 (Job Control)

9.1 주요 명령어
* `jobs`: 백그라운드에서 실행 중인 작업 목록을 표시.
* `fg`: 백그라운드 작업을 포그라운드로 가져옴.
* `bg`: 포그라운드에서 일시 중지된 작업을 백그라운드에서 계속 실행.
10. 쉘 프로그래밍 필수 개념
* **쉘 스크립트 실행 권한 부여**: `chmod +x script.sh`
* **변수 사용**: `$` 기호로 변수 참조 (`$변수이름`)
* **조건문과 반복문**: 제어 구조를 이용해 조건부 작업과 반복 작업 가능
* **리다이렉션과 파이프라인**: 명령어의 출력과 입력을 파일 또는 다른 명령어로 전달하여 처리
* **환경 변수 설정**: `export` 명령을 통해 환경 변수 설정 및 사용



` 이 문서에서는 쉘의 기본 개념부터 스크립트 작성법, 필수 명령어, 그리고 리다이렉션과 파이프라인 등 쉘을 사용하며 알아두어야 할 다양한 내용을 포함하고 있습니다. 이를 통해 리눅스에서 효율적으로 셸을 사용할 수 있습니다.`
